

- [01.查看软件、进程、驱动、系统](#01查看软件进程驱动系统)
  - [1 查看软件](#1-查看软件)
    - [（1） 一般情况](#1-一般情况)
    - [（2） 查看python 包版本](#2-查看python-包版本)
  - [2 查看（CUDA、cudnn）](#2-查看cudacudnn)
    - [（1） 查看 cuda、cudnn版本](#1-查看-cudacudnn版本)
    - [（2） 更新cuda cudnn](#2-更新cuda-cudnn)
  - [3 系统](#3-系统)
  - [4 时区](#4-时区)
  - [5 账号权限](#5-账号权限)
  - [6 环境变量](#6-环境变量)
    - [（1）添加删除环境变量](#1添加删除环境变量)
    - [（2）打印环境变量的值](#2打印环境变量的值)
  - [7 网络](#7-网络)
  - [8 进程](#8-进程)
    - [（1） 查看进程](#1-查看进程)
    - [（2） kill 进程](#2-kill-进程)


# 01.查看软件、进程、驱动、系统

## 1 查看软件


### （1） 一般情况

```shell

# ==== python
python  --version  				# 查看python版本
whereis  python  				# 查看python安装路径


```


### （2） 查看python 包版本
```python

# ==== tensorflow
import  tensorflow  as  tf  	
tf.__version__  				# 查看tensorflow版本
tf.__path__  					# 查看tensorflow安装路径

python -c 'import tensorflow as tf; print(tf.__version__)'     # 一句话 完成


# == 查看tensorflow是CPU还是GPU版
import os
from tensorflow.python.client import device_lib
os.environ["TF_CPP_MIN_LOG_LEVEL"] = "99"
 
if __name__ == "__main__":
    print(device_lib.list_local_devices())


```




## 2 查看（CUDA、cudnn）
### （1） 查看 cuda、cudnn版本 

```shell
# ==== 查看 cuda 版本 
cd  /usr/local/


# ==== nvcc 
(base) [root@xxx]$   nvcc -V
nvcc: NVIDIA (R) Cuda compiler driver
Copyright (c) 2005-2022 NVIDIA Corporation
Built on Wed_Jun__8_16:49:14_PDT_2022
Cuda compilation tools, release 11.7, V11.7.99
Build cuda_11.7.r11.7/compiler.31442593_0



# 查看 cudnn 版本 

```

### （2） 更新cuda cudnn
https://blog.csdn.net/YPP0229/article/details/108939159




## 3 系统

```shell
# ==== 查看Linux系统版本
[root@xxx]$ cat  /etc/issue       # ubuntu
Ubuntu 18.04.6 LTS \n \l

[root@xxx]$ cat /etc/redhat-release   # centOS
CentOS Linux release 7.3.1611 (Core)


# ==== 查看Linux内核版本
cat  /proc/version    # 查看Linux内核版本
uname  -a             


```


## 4 时区

```shell
cat /etc/timezone                            #  查看

echo "Asia/Shanghai" > /etc/timezone         #  修改
```



## 5 账号权限

**给用户添加sudo 权限:**
```shell
# （1）添加文件/etc/sudoers 写权限
chmod u+w /etc/sudoers

# （2） 编辑文件 , 在 "root ALL=(ALL) ALL" 的下一行加上：  wanglei10803  ALL=(ALL)  ALL
vim /etc/sudoers

# （3）撤销写权限
chmod u-w /etc/sudoers





su  cs108079  # 切换当前用户

```


**查看用户是否有sudo 权限:**
```shell
sudo -l -U wanglei10803

# ============  成功  =============
Matching Defaults entries for abhi on test-server: 
    env_reset, mail_badpass, 
    secure_path=/usr/local/sbin\:/usr/local/bin\:/usr/sbin\:/usr/bin\:/sbin\:/bin\:/snap/bin 
 
User zcwyou may run the following commands on test-server: 
    (ALL : ALL) NOPASSWD: ALL
# =================================

# ============  失败  =============
User wanglei10803 is not allowed to run sudo on test-server.
# =================================
```



## 6 环境变量

### （1）添加删除环境变量
```shell
/etc/profile    #  此文件为系统的每个用户设置环境信息,当用户第一次登录时,该文件被执行。并从/etc/profile.d目录的配置文件中搜集shell的设置；
/etc/environment  #  在登录时操作系统使用的第二个文件,系统在读取你自己的profile前,设置环境文件的环境变量；
/etc/bashrc    #  为每一个运行bash shell的用户执行此文件。当bash shell被打开时,该文件被读取；
~/.profile    #  每个用户都可使用该文件输入专用于自己使用的shell信息，当用户登录时，该文件仅仅执行一次！默认情况下,它设置一些环境变量,执行用户的.bashrc文件；
~/.bashrc     #  该文件包含专用于你的bash shell的bash信息,当登录时以及每次打开新的shell时,该文件被读取；
```

### （2）打印环境变量的值
```shell
echo  $PATH 				% 显示PATH环境变量
echo  LD_LIBRARY_PATH   	% 显示动态库（library）的路径
```



## 7 网络

```shell
ifconfig  

# ==== ping  IP
apt-get install iputils-ping   # 安装 ping
ping  wujiaxing.tb.dl.data.autohome.com.cn


# ==== 查看端口
netstat -ano

netstat  -tunlp				% 查看所有使用的端口
netstat  -tunlp | grep  8000	% 查看端口8000的情况

lsof  -i:8118    % 查看端口8000 是否被监听


# ==== 查看所有信息
dstat      # dstat命令不加任何参数时，会收集CPU、磁盘、网络、分页、系统的数据信息，每秒收集一次
```

**curl:**

```shell

# ==== get 
curl "http://127.0.0.1:8200/test?track_id=1111&img_url=https://car3.autoimg.cn/cardfs/product/g30/M02/30/29/800x0_1_q95_autohomecar__ChxknGJdcQWAJCtdAAgAiapLpVM899.jpg"   # 加 " "

curl  http://127.0.0.1:8200/test?track_id=1111\&img_url=https%3A%2F%2Fcar3.autoimg.cn%2Fcardfs%2Fproduct%2Fg30%2FM02%2F30%2F29%2F800x0_1_q95_autohomecar__ChxknGJdcQWAJCtdAAgAiapLpVM899.jpg    # 特殊字符 urlencode 转码

# 上面两个命令相同


# ==== post
curl  -H   "Content-Type: application/json"   -X  POST  --data  '{"context":"我今年21岁了","context_name":"自我介绍"}'    http://10.50.72.166:9266/text   # post


```


## 8 进程
### （1） 查看进程
```shell
ps -ef | grep python         #   全格式显示所有进程  | 查找 python
ps -ef | grep nginx 

        ps  [选项]
        -e   显示所有进程。
        -f    全格式。
        -h   不显示标题。
        -l    长格式。
        -w  宽输出。
        a    显示终端上的所有进程，包括其他用户的进程。
        r    只显示正在运行的进程。
        u 　以用户为主的格式来显示程序状况。
        x     显示所有程序，不以终端机来区分。


top            #  进程监控
lsof           # 列举系统打开的文件


fuser -v /dev/nvidia*            #  docker 内查看 GPU的进程



```


### （2） kill 进程
```shell
# ==== 
kill  -9  16744  	% 杀掉进程16744
pkill  python  	% 杀掉进程名为python的所有进程




进程管理工具：supervisior 
https://www.jianshu.com/p/0b9054b33db3
```






