


# 06. git

## 1 提交代码
```shell
git branch 32                #  新建 32分支
git checkout 32              #  切换到32分支，这里得32是对应的issue id
git diff                         # 确认下修改内容
git status                       # 确认变更内容
git add .
git add -u                           # 添加 所有修改文件到 commit
git check                   
git commit -m "32: v_xxxx"                 # 注意这里的comment中一定要加对应的         issue_id，就是 32，这样你的comment才会被关联到对应的issue中，方便问题记录管理
git push origin 32:32           #   本地32分支推送到远程32分支




```









## 2 常用命令
```shell
                         Git global setup
git config --global user.name "cs"
git config --global user.email "xxx@yyy.com"

                         Create a new repository
git clone https://gitlab.vmic.xyz/fast-expr/zzz.git
cd zzz
touch README.md
git add README.md

git push -u origin master

                         Existing folder
cd existing_folder
git init
git remote add origin https://gitlab.vmic.xyz/fast-expr/zzz.git
git add .
git commit -m "Initial commit"
git push -u origin master


                         Existing Git repository
cd existing_repo
git remote rename origin old-origin
git remote add origin https://gitlab.vmic.xyz/fast-expr/zzz.git
git push -u origin --all
git push -u origin --tags





# ==== 其他
git stash                  #  将变更缓存起来。 在分支冲突的时候有用，先加入缓存，再切换分支，再加载之前的缓存。
git stash pop              #  加载之前的缓存变更。

git branch -a              #  显示所有分支
git branch                     # 查看分支

git pull
git merge master  


git config --global push.default upstream   # 修改仓库默认配置为 upstream


git config user.name           # 查看用户名
vim ~/.gitconfig               # 打开个人 gitconfig

```


## 3 创建 git 工程：

生成 shh key：
```python
（1） ssh-keygen -t rsa -C "your.email@example.com" -b 4096  
（2） 复制公钥到gitlab
```



## 4 部分clone、浅clone
```shell
# ==== 部分clone
由于 repo 很大，我们建议您只下载感兴趣的子目录：
SUBDIR=foo
svn export https://github.com/google-research/google-research/trunk/$SUBDIR

# ==== 浅clone
如果您想提交拉取请求，则需要克隆存储库；我们建议进行浅克隆（没有历史记录）。
git clone git@github.com:google-research/google-research.git --depth=1
```




## x 报错

git 下子文件 包含git， push上去后报错，版本冲突：
```shell
    删除掉子文件下的 .git/
    git init
    git remote add origin https://gitlab.vmic.xyz/11123360/222.git
    git add .
    git commit -m "Initial commit"
    git push -u origin master
```





## 4 .gitignore 
```shell
         Byte-compiled / optimized / DLL files
*.swp
__pycache__/
*.py[cod]
*$py.class

         C extensions
*.so

         Distribution / packaging
.Python
build/
develop-eggs/
dist/
downloads/
eggs/
.eggs/
lib/
lib64/
parts/
sdist/
var/
wheels/
*.egg-info/
.installed.cfg
*.egg
MANIFEST

         PyInstaller
          Usually these files are written by a python script from a template
          before PyInstaller builds the exe, so as to inject date/other infos into it.
*.manifest
*.spec

         Installer logs
pip-log.txt
pip-delete-this-directory.txt

         Unit test / coverage reports
htmlcov/
.tox/
.coverage
.coverage.*
.cache
nosetests.xml
coverage.xml
*.cover
.hypothesis/
.pytest_cache/

         Translations
*.mo
*.pot

         Django stuff:
*.log
local_settings.py
db.sqlite3

         Flask stuff:
instance/
.webassets-cache

         Scrapy stuff:
.scrapy

         Sphinx documentation
docs/_build/

         PyBuilder
target/

         Jupyter Notebook
.ipynb_checkpoints

         pyenv
.python-version

         celery beat schedule file
celerybeat-schedule

         SageMath parsed files
*.sage.py

         Environments
.env
.venv
env/
venv/
ENV/
env.bak/
venv.bak/

         Spyder project settings
.spyderproject
.spyproject

         Rope project settings
.ropeproject

         mkdocs documentation
/site

         mypy
.mypy_cache/

         checkpoints
checkpoints/
```


